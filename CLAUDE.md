# Project: raj-singh.com

Personal website hosted on Firebase. Static HTML + a Node.js build script for project pages.

## Structure

- `public/` — served by Firebase Hosting (the deploy root)
  - `index.html` — homepage (static, edit directly)
  - `books.html` — reading list (static, edit directly)
  - `projects.html` — generated by `build.js`, do not edit directly
  - `projects/*.html` — generated by `build.js`, do not edit directly
  - `404.html` — generated by `build.js`
  - `sitemap.xml` — generated by `build.js`
- `projects/` — markdown source files for project pages (frontmatter + content)
- `build.js` — generates `projects.html`, individual project pages, `404.html`, and `sitemap.xml`
- `firebase.json` — hosting config (`cleanUrls: true`, so no `.html` in links)

## Workflow

### After editing `build.js` or any `projects/*.md` file:

```sh
node build.js
```

This regenerates all files in `public/projects/`, `public/projects.html`, `public/404.html`, and `public/sitemap.xml`. Do not manually edit those generated files.

### After editing static pages (`public/index.html`, `public/books.html`):

No build step needed. Edit them directly.

### Deploy

Always commit, push to GitHub, then deploy to Firebase:

```sh
git add <changed-files>
git commit -m "message"
git push origin main
npx firebase deploy
```

## Key conventions

- All internal links use **absolute paths** (`/`, `/projects`, `/books`, `/projects/slug`) — never relative paths. This is required because Firebase `cleanUrls` strips `.html`.
- Nav order: **Show** | **Books** (Show = projects page, renamed from "Projects")
- CSS is inlined in `<style>` tags. The canonical CSS lives in `build.js` (`baseCSS`, `projectCSS`, `darkCSS`). When updating styles, update `build.js` first, rebuild, then sync `books.html` and `index.html` manually.
- Dark mode via `prefers-color-scheme: dark` media query.
- Tags on project cards: boxy (no border-radius), uppercase, background only on hover.
- Book rows and project cards both use flex layout with hover highlight.
